<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: ZF2 | /home/matstani/weblog]]></title>
  <link href="http://matstani.github.com/blog/categories/zf2/atom.xml" rel="self"/>
  <link href="http://matstani.github.com/"/>
  <updated>2014-03-09T17:07:53+09:00</updated>
  <id>http://matstani.github.com/</id>
  <author>
    <name><![CDATA[Shunsaku MATSUTANI]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[[ZF2] データベーストランザクション]]></title>
    <link href="http://matstani.github.com/blog/2014/03/02/zf2-db-transaction/"/>
    <updated>2014-03-02T19:46:00+09:00</updated>
    <id>http://matstani.github.com/blog/2014/03/02/zf2-db-transaction</id>
    <content type="html"><![CDATA[<p>Zend Framework2でデータベースのトランザクションを利用する方法を紹介します。</p>

<p><a href="https://gist.github.com/matstani/9304923">サンプルコード</a>
{% gist 9304923 %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[ZF2] バリデーションメッセージのスタイルを変更する]]></title>
    <link href="http://matstani.github.com/blog/2014/03/02/zf2-error-message-style/"/>
    <updated>2014-03-02T19:06:00+09:00</updated>
    <id>http://matstani.github.com/blog/2014/03/02/zf2-error-message-style</id>
    <content type="html"><![CDATA[<p>Zend Framework2でフォームバリデーションを行った際のエラーメッセージには、特定のスタイル(class)が指定されていないため、メッセージを赤字で表示したい、といった場合に困ります。</p>

<p>デフォルトの表示方法は、<a href="http://framework.zend.com/manual/2.2/en/modules/zend.form.view.helpers.html">ビューヘルパー</a><code>formElementErrors</code>として登録されています。<br/>
これを自作のクラスで置き換えることで、任意のスタイルでエラーメッセージを表示させることができます。</p>

<p>例として、<code>Album\Helper\FormElementErrors</code>を作成します。<br/>
<a href="https://gist.github.com/matstani/9304648">FormElementErrors.php</a>
{% gist 9304648 FormElementErrors.php  %}
上記の例ではエラーメッセージの<code>ul</code>要素に<code>class="err-msg"</code>を指定しています。</p>

<p>作成したビューヘルパーは、<code>Module.php</code>の<code>getViewHelperConfig</code>メソッドで登録します。<br/>
<a href="https://gist.github.com/matstani/9304648">Module.php</a>
{% gist 9304648 Module.php  %}</p>

<p>登録後、バリデーションメッセージが指定したスタイルで表示されるようになります。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[ZF2] フォームバリデーションメッセージを変更する]]></title>
    <link href="http://matstani.github.com/blog/2014/03/02/zf2-validator-translation/"/>
    <updated>2014-03-02T18:24:00+09:00</updated>
    <id>http://matstani.github.com/blog/2014/03/02/zf2-validator-translation</id>
    <content type="html"><![CDATA[<p>Zend Framework2でフォームのバリデーションのエラーメッセージを変更するにはいくつか方法がありますが、InputFilter作成時のオプションで指定する方法を紹介します。</p>

<p><a href="http://framework.zend.com/manual/2.2/en/user-guide/forms-and-actions.html">ZF2チュートリアル</a>では、空欄チェックと、文字列の長さチェックが付加されていますが、これを日本語メッセージにしてみます。</p>

<p><a href="https://gist.github.com/matstani/9303960">サンプルコード</a></p>

<p>{% gist 9303960 %}</p>

<p>冗長に見えますが、配列の組み合わせなので、関数化して再利用するのは容易です。<br/>
関数化した例をいくつか掲載します。</p>

<p><a href="https://gist.github.com/matstani/9304210">サンプルコード</a></p>

<p>{% gist 9304210 %}</p>
]]></content>
  </entry>
  
</feed>
